{"ast":null,"code":"var _a;\nimport { __decorate, __metadata } from \"tslib\";\nimport { Injectable } from '@angular/core';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { catchError } from 'rxjs';\nexport let ApiErrorInterceptor = class ApiErrorInterceptor {\n  constructor(snackBar) {\n    this.snackBar = snackBar;\n  }\n  intercept(req, next) {\n    return next.handle(req).pipe(catchError(error => {\n      this.snackBar.open(error.error, 'OK', {\n        duration: 5000\n      });\n      throw error;\n    }));\n  }\n};\nApiErrorInterceptor = __decorate([Injectable(), __metadata(\"design:paramtypes\", [typeof (_a = typeof MatSnackBar !== \"undefined\" && MatSnackBar) === \"function\" ? _a : Object])], ApiErrorInterceptor);","map":{"version":3,"names":["Injectable","MatSnackBar","catchError","ApiErrorInterceptor","constructor","snackBar","intercept","req","next","handle","pipe","error","open","duration","__decorate","_a","Object"],"sources":["C:\\Users\\gregor.woiwode\\workbench\\talks\\talk-qwik-angular\\apps\\insurance-angular\\src\\app\\infrastructure\\interceptors\\api-error.interceptor.ts"],"sourcesContent":["import {\n  HttpErrorResponse,\n  HttpEvent,\n  HttpHandler,\n  HttpInterceptor,\n  HttpRequest\n} from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { catchError, Observable } from 'rxjs';\n\n@Injectable()\nexport class ApiErrorInterceptor implements HttpInterceptor {\n  constructor(private readonly snackBar: MatSnackBar) {}\n\n  intercept(req: HttpRequest<unknown>, next: HttpHandler): Observable<HttpEvent<unknown>> {\n    return next.handle(req).pipe(\n      catchError((error: HttpErrorResponse) => {\n        this.snackBar.open(error.error, 'OK', { duration: 5000 });\n        throw error;\n      })\n    );\n  }\n}\n"],"mappings":";;AAOA,SAASA,UAAU,QAAQ,eAAe;AAC1C,SAASC,WAAW,QAAQ,6BAA6B;AACzD,SAASC,UAAU,QAAoB,MAAM;AAGtC,WAAMC,mBAAmB,GAAzB,MAAMA,mBAAmB;EAC9BC,YAA6BC,QAAqB;IAArB,KAAAA,QAAQ,GAARA,QAAQ;EAAgB;EAErDC,SAASA,CAACC,GAAyB,EAAEC,IAAiB;IACpD,OAAOA,IAAI,CAACC,MAAM,CAACF,GAAG,CAAC,CAACG,IAAI,CAC1BR,UAAU,CAAES,KAAwB,IAAI;MACtC,IAAI,CAACN,QAAQ,CAACO,IAAI,CAACD,KAAK,CAACA,KAAK,EAAE,IAAI,EAAE;QAAEE,QAAQ,EAAE;MAAI,CAAE,CAAC;MACzD,MAAMF,KAAK;IACb,CAAC,CAAC,CACH;EACH;CACD;AAXYR,mBAAmB,GAAAW,UAAA,EAD/Bd,UAAU,EAAE,E,qDAE4BC,WAAW,oBAAXA,WAAW,mBAAAc,EAAA,GAAAC,MAAA,G,EADvCb,mBAAmB,CAW/B"},"metadata":{},"sourceType":"module","externalDependencies":[]}