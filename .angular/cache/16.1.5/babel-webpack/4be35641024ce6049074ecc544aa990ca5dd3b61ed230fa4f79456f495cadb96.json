{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/gregor.woiwode/workbench/talks/talk-qwik-angular/node_modules/.pnpm/@babel+runtime@7.22.5/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _a, _b;\nimport { __decorate, __metadata } from \"tslib\";\nimport { ChangeDetectionStrategy, Component } from '@angular/core';\nimport { DialogComponent } from '../../../components/dialog/dialog.component';\nimport { MatButtonModule } from '@angular/material/button';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { DokumenteClient } from '../dokumente.client';\nimport { DokumentNewForm } from './dokument-new.form';\nimport { toSignal } from '@angular/core/rxjs-interop';\nimport { VoreinstellungenClient } from '../voreinstellungen.client';\nimport { NgIf } from '@angular/common';\nexport let DokumentNewDialog = class DokumentNewDialog {\n  constructor(router, route, voreinstellungenClient, dokumenteClient) {\n    this.router = router;\n    this.route = route;\n    this.voreinstellungenClient = voreinstellungenClient;\n    this.dokumenteClient = dokumenteClient;\n    this.voreinstellungenResult = toSignal(this.voreinstellungenClient.read().result$);\n    this.angebotDto = null;\n  }\n  close() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      yield _this.router.navigate(['..'], {\n        relativeTo: _this.route\n      });\n    })();\n  }\n  updateAngebotDto(dto) {\n    this.angebotDto = dto;\n  }\n  createAngebot() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      if (!_this2.angebotDto) {\n        return;\n      }\n      yield _this2.dokumenteClient.create().mutate(_this2.angebotDto).then(() => _this2.close());\n    })();\n  }\n};\nDokumentNewDialog = __decorate([Component({\n  selector: 'app-dokument-new-dialog',\n  standalone: true,\n  imports: [NgIf, DialogComponent, MatButtonModule, DokumentNewForm],\n  templateUrl: 'dokument-new.dialog.html',\n  changeDetection: ChangeDetectionStrategy.OnPush\n}), __metadata(\"design:paramtypes\", [typeof (_a = typeof Router !== \"undefined\" && Router) === \"function\" ? _a : Object, typeof (_b = typeof ActivatedRoute !== \"undefined\" && ActivatedRoute) === \"function\" ? _b : Object, VoreinstellungenClient, DokumenteClient])], DokumentNewDialog);","map":{"version":3,"names":["ChangeDetectionStrategy","Component","DialogComponent","MatButtonModule","ActivatedRoute","Router","DokumenteClient","DokumentNewForm","toSignal","VoreinstellungenClient","NgIf","DokumentNewDialog","constructor","router","route","voreinstellungenClient","dokumenteClient","voreinstellungenResult","read","result$","angebotDto","close","_this","_asyncToGenerator","navigate","relativeTo","updateAngebotDto","dto","createAngebot","_this2","create","mutate","then","__decorate","selector","standalone","imports","templateUrl","changeDetection","OnPush","_a","Object","_b"],"sources":["C:\\Users\\gregor.woiwode\\workbench\\talks\\talk-qwik-angular\\apps\\insurance-angular\\src\\app\\features\\dokumente\\dokument-new\\dokument-new.dialog.ts"],"sourcesContent":["import { ChangeDetectionStrategy, Component } from '@angular/core';\nimport { DialogComponent } from '../../../components/dialog/dialog.component';\nimport { MatButtonModule } from '@angular/material/button';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { DokumenteClient } from '../dokumente.client';\nimport { ErzeugeNeuesAngebotDto } from '../models';\nimport { DokumentNewForm } from './dokument-new.form';\nimport { toSignal } from '@angular/core/rxjs-interop';\nimport { VoreinstellungenClient } from '../voreinstellungen.client';\nimport { NgIf } from '@angular/common';\n\n@Component({\n  selector: 'app-dokument-new-dialog',\n  standalone: true,\n  imports: [NgIf, DialogComponent, MatButtonModule, DokumentNewForm],\n  templateUrl: 'dokument-new.dialog.html',\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class DokumentNewDialog {\n  protected readonly voreinstellungenResult = toSignal(this.voreinstellungenClient.read().result$);\n\n  protected angebotDto: ErzeugeNeuesAngebotDto | null = null;\n\n  constructor(\n    private readonly router: Router,\n    private readonly route: ActivatedRoute,\n\n    private readonly voreinstellungenClient: VoreinstellungenClient,\n    private readonly dokumenteClient: DokumenteClient\n  ) {}\n\n  protected async close() {\n    await this.router.navigate(['..'], { relativeTo: this.route });\n  }\n\n  protected updateAngebotDto(dto: ErzeugeNeuesAngebotDto | null) {\n    this.angebotDto = dto;\n  }\n\n  protected async createAngebot() {\n    if (!this.angebotDto) {\n      return;\n    }\n\n    await this.dokumenteClient\n      .create()\n      .mutate(this.angebotDto)\n      .then(() => this.close());\n  }\n}\n"],"mappings":";;;AAAA,SAASA,uBAAuB,EAAEC,SAAS,QAAQ,eAAe;AAClE,SAASC,eAAe,QAAQ,6CAA6C;AAC7E,SAASC,eAAe,QAAQ,0BAA0B;AAC1D,SAASC,cAAc,EAAEC,MAAM,QAAQ,iBAAiB;AACxD,SAASC,eAAe,QAAQ,qBAAqB;AAErD,SAASC,eAAe,QAAQ,qBAAqB;AACrD,SAASC,QAAQ,QAAQ,4BAA4B;AACrD,SAASC,sBAAsB,QAAQ,4BAA4B;AACnE,SAASC,IAAI,QAAQ,iBAAiB;AAS/B,WAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAK5BC,YACmBC,MAAc,EACdC,KAAqB,EAErBC,sBAA8C,EAC9CC,eAAgC;IAJhC,KAAAH,MAAM,GAANA,MAAM;IACN,KAAAC,KAAK,GAALA,KAAK;IAEL,KAAAC,sBAAsB,GAAtBA,sBAAsB;IACtB,KAAAC,eAAe,GAAfA,eAAe;IATf,KAAAC,sBAAsB,GAAGT,QAAQ,CAAC,IAAI,CAACO,sBAAsB,CAACG,IAAI,EAAE,CAACC,OAAO,CAAC;IAEtF,KAAAC,UAAU,GAAkC,IAAI;EAQvD;EAEaC,KAAKA,CAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MACnB,MAAMD,KAAI,CAACT,MAAM,CAACW,QAAQ,CAAC,CAAC,IAAI,CAAC,EAAE;QAAEC,UAAU,EAAEH,KAAI,CAACR;MAAK,CAAE,CAAC;IAAC;EACjE;EAEUY,gBAAgBA,CAACC,GAAkC;IAC3D,IAAI,CAACP,UAAU,GAAGO,GAAG;EACvB;EAEgBC,aAAaA,CAAA;IAAA,IAAAC,MAAA;IAAA,OAAAN,iBAAA;MAC3B,IAAI,CAACM,MAAI,CAACT,UAAU,EAAE;QACpB;;MAGF,MAAMS,MAAI,CAACb,eAAe,CACvBc,MAAM,EAAE,CACRC,MAAM,CAACF,MAAI,CAACT,UAAU,CAAC,CACvBY,IAAI,CAAC,MAAMH,MAAI,CAACR,KAAK,EAAE,CAAC;IAAC;EAC9B;CACD;AA/BYV,iBAAiB,GAAAsB,UAAA,EAP7BhC,SAAS,CAAC;EACTiC,QAAQ,EAAE,yBAAyB;EACnCC,UAAU,EAAE,IAAI;EAChBC,OAAO,EAAE,CAAC1B,IAAI,EAAER,eAAe,EAAEC,eAAe,EAAEI,eAAe,CAAC;EAClE8B,WAAW,EAAE,0BAA0B;EACvCC,eAAe,EAAEtC,uBAAuB,CAACuC;CAC1C,CAAC,E,qDAO2BlC,MAAM,oBAANA,MAAM,mBAAAmC,EAAA,GAAAC,MAAA,UAAAC,EAAA,UACPtC,cAAc,oBAAdA,cAAc,mBAAAsC,EAAA,GAAAD,MAAA,EAEGhC,sBAAsB,EAC7BH,eAAe,G,EAVxCK,iBAAiB,CA+B7B"},"metadata":{},"sourceType":"module","externalDependencies":[]}