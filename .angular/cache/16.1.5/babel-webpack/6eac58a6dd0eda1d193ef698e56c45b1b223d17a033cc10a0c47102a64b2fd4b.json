{"ast":null,"code":"var _a;\nimport { __decorate, __metadata } from \"tslib\";\nimport { ChangeDetectionStrategy, Component, DestroyRef, EventEmitter, Input, Output } from '@angular/core';\nimport { NgIf } from '@angular/common';\nimport { MatInputModule } from '@angular/material/input';\nimport { FormControl, ReactiveFormsModule } from '@angular/forms';\nimport { distinctUntilChanged, filter, tap } from 'rxjs';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatButtonModule } from '@angular/material/button';\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\nexport let SearchComponent = class SearchComponent {\n  constructor(destroyRef) {\n    this.destroyRef = destroyRef;\n    this.label = 'Search...';\n    this.placeholder = 'Search...';\n    this.updated = new EventEmitter();\n    this.searchInputControl = new FormControl(null);\n  }\n  ngOnInit() {\n    this.propagateSearchInputValueChanges();\n  }\n  propagateSearchInputValueChanges() {\n    this.searchInputControl.valueChanges.pipe(filter(value => typeof value === 'string'), distinctUntilChanged(), tap(value => this.updated.emit(value)), takeUntilDestroyed(this.destroyRef)).subscribe();\n  }\n};\n__decorate([Input(), __metadata(\"design:type\", Object)], SearchComponent.prototype, \"label\", void 0);\n__decorate([Input(), __metadata(\"design:type\", Object)], SearchComponent.prototype, \"placeholder\", void 0);\n__decorate([Output(), __metadata(\"design:type\", Object)], SearchComponent.prototype, \"updated\", void 0);\nSearchComponent = __decorate([Component({\n  selector: 'app-search',\n  standalone: true,\n  imports: [NgIf, MatInputModule, ReactiveFormsModule, MatIconModule, MatButtonModule],\n  templateUrl: './search.component.html',\n  styleUrls: ['./search.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n}), __metadata(\"design:paramtypes\", [typeof (_a = typeof DestroyRef !== \"undefined\" && DestroyRef) === \"function\" ? _a : Object])], SearchComponent);","map":{"version":3,"names":["ChangeDetectionStrategy","Component","DestroyRef","EventEmitter","Input","Output","NgIf","MatInputModule","FormControl","ReactiveFormsModule","distinctUntilChanged","filter","tap","MatIconModule","MatButtonModule","takeUntilDestroyed","SearchComponent","constructor","destroyRef","label","placeholder","updated","searchInputControl","ngOnInit","propagateSearchInputValueChanges","valueChanges","pipe","value","emit","subscribe","__decorate","selector","standalone","imports","templateUrl","styleUrls","changeDetection","OnPush","_a","Object"],"sources":["C:\\Users\\gregor.woiwode\\workbench\\talks\\talk-qwik-angular\\apps\\insurance-angular\\src\\app\\components\\search\\search.component.ts"],"sourcesContent":["import {\n  ChangeDetectionStrategy,\n  Component,\n  DestroyRef,\n  EventEmitter,\n  Input,\n  OnInit,\n  Output,\n} from '@angular/core';\nimport { NgIf } from '@angular/common';\nimport { MatInputModule } from '@angular/material/input';\nimport { FormControl, ReactiveFormsModule } from '@angular/forms';\nimport { distinctUntilChanged, filter, tap } from 'rxjs';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatButtonModule } from '@angular/material/button';\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\n\n@Component({\n  selector: 'app-search',\n  standalone: true,\n  imports: [\n    NgIf,\n    MatInputModule,\n    ReactiveFormsModule,\n    MatIconModule,\n    MatButtonModule,\n  ],\n  templateUrl: './search.component.html',\n  styleUrls: ['./search.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class SearchComponent implements OnInit {\n  @Input() label = 'Search...';\n  @Input() placeholder = 'Search...';\n\n  @Output() updated = new EventEmitter<string>();\n\n  protected searchInputControl = new FormControl<string | null>(null);\n\n  constructor(private readonly destroyRef: DestroyRef) {}\n\n  ngOnInit(): void {\n    this.propagateSearchInputValueChanges();\n  }\n\n  private propagateSearchInputValueChanges() {\n    this.searchInputControl.valueChanges\n      .pipe(\n        filter((value): value is string => typeof value === 'string'),\n        distinctUntilChanged(),\n        tap((value) => this.updated.emit(value)),\n        takeUntilDestroyed(this.destroyRef)\n      )\n      .subscribe();\n  }\n}\n"],"mappings":";;AAAA,SACEA,uBAAuB,EACvBC,SAAS,EACTC,UAAU,EACVC,YAAY,EACZC,KAAK,EAELC,MAAM,QACD,eAAe;AACtB,SAASC,IAAI,QAAQ,iBAAiB;AACtC,SAASC,cAAc,QAAQ,yBAAyB;AACxD,SAASC,WAAW,EAAEC,mBAAmB,QAAQ,gBAAgB;AACjE,SAASC,oBAAoB,EAAEC,MAAM,EAAEC,GAAG,QAAQ,MAAM;AACxD,SAASC,aAAa,QAAQ,wBAAwB;AACtD,SAASC,eAAe,QAAQ,0BAA0B;AAC1D,SAASC,kBAAkB,QAAQ,4BAA4B;AAgBxD,WAAMC,eAAe,GAArB,MAAMA,eAAe;EAQ1BC,YAA6BC,UAAsB;IAAtB,KAAAA,UAAU,GAAVA,UAAU;IAP9B,KAAAC,KAAK,GAAG,WAAW;IACnB,KAAAC,WAAW,GAAG,WAAW;IAExB,KAAAC,OAAO,GAAG,IAAIlB,YAAY,EAAU;IAEpC,KAAAmB,kBAAkB,GAAG,IAAId,WAAW,CAAgB,IAAI,CAAC;EAEb;EAEtDe,QAAQA,CAAA;IACN,IAAI,CAACC,gCAAgC,EAAE;EACzC;EAEQA,gCAAgCA,CAAA;IACtC,IAAI,CAACF,kBAAkB,CAACG,YAAY,CACjCC,IAAI,CACHf,MAAM,CAAEgB,KAAK,IAAsB,OAAOA,KAAK,KAAK,QAAQ,CAAC,EAC7DjB,oBAAoB,EAAE,EACtBE,GAAG,CAAEe,KAAK,IAAK,IAAI,CAACN,OAAO,CAACO,IAAI,CAACD,KAAK,CAAC,CAAC,EACxCZ,kBAAkB,CAAC,IAAI,CAACG,UAAU,CAAC,CACpC,CACAW,SAAS,EAAE;EAChB;CACD;AAvBUC,UAAA,EAAR1B,KAAK,EAAE,E,+EAAqB;AACpB0B,UAAA,EAAR1B,KAAK,EAAE,E,qFAA2B;AAEzB0B,UAAA,EAATzB,MAAM,EAAE,E,iFAAsC;AAJpCW,eAAe,GAAAc,UAAA,EAd3B7B,SAAS,CAAC;EACT8B,QAAQ,EAAE,YAAY;EACtBC,UAAU,EAAE,IAAI;EAChBC,OAAO,EAAE,CACP3B,IAAI,EACJC,cAAc,EACdE,mBAAmB,EACnBI,aAAa,EACbC,eAAe,CAChB;EACDoB,WAAW,EAAE,yBAAyB;EACtCC,SAAS,EAAE,CAAC,yBAAyB,CAAC;EACtCC,eAAe,EAAEpC,uBAAuB,CAACqC;CAC1C,CAAC,E,qDASyCnC,UAAU,oBAAVA,UAAU,mBAAAoC,EAAA,GAAAC,MAAA,G,EARxCvB,eAAe,CAwB3B"},"metadata":{},"sourceType":"module","externalDependencies":[]}